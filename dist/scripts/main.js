var DEFAULT_STYLES={weight:2,color:"#666666",opacity:.7,fillColor:"#B0DE5C",fillOpacity:.8,dashArray:"1 3"},INNER_STYLES={weight:2.25,color:"#FFA500",opacity:.8,fillOpacity:.8},ORIGINAL_ROAD_STYLES={weight:2.5,color:"#2F4F4F",opacity:.7,fillColor:"#B0DE5C",fillOpacity:.7},NEW_ROAD_STYLES={weight:2.5,color:"#2F4F4F",opacity:.8,fillColor:"#B0DE5C",fillOpacity:.8};L.TopoJSON=L.GeoJSON.extend({addData:function(t){if("Topology"===t.type)for(key in t.objects)geojson=topojson.feature(t,t.objects[key]),L.GeoJSON.prototype.addData.call(this,geojson);else L.GeoJSON.prototype.addData.call(this,t)}});var map=L.map("map",{zoomControl:!1}),autoSlideInt,tiles=L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',maxZoom:18,id:"joeahand.jc5epc4l",accessToken:"pk.eyJ1Ijoiam9lYWhhbmQiLCJhIjoiaDd1MEJZQSJ9.fl3WTCt8MGNOSCGR_qqz7A"}),topoLayer=new L.TopoJSON(null,{style:function(t){"use strict";return"true"===t.properties.road?NEW_ROAD_STYLES:"true"===t.properties.original_road?ORIGINAL_ROAD_STYLES:"true"===t.properties.interior?INNER_STYLES:DEFAULT_STYLES}}),numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},setStats=function(t){"use strict";$("#stat-paths").text(t.pathLen),$("#stat-parcels").text(numberWithCommas(t.parcelArea)),$("#stat-area").text(t.pathPercent),$("#stat-isolated").text(t.isolatedParcels)},autoSlide=function(){"use strict";var t=$(".step-slider").slider("value");t===projectData.totalSteps-1?(console.log("done sliding"),clearInterval(autoSlideInt)):$(".step-slider").slider("value",t+1)},initSlider=function(t){"use strict";$(".step-slider").slider({max:t,change:function(t,e){t.originalEvent&&clearInterval(autoSlideInt);var a=e.value,o=projectData.steps[a];"undefined"!=typeof o&&setStats(o);var r=projectData.filePath+a+".topo.json";loadTopoLayer(topoLayer,r,!0)}})},loadTopoLayer=function(t,e,a){"use strict";$.getJSON(e).done(function(e){a===!0?(topoLayer.clearLayers(),t.addData(e)):(t.addData(e),t.addTo(map),map.fitBounds(t.getBounds()),initSlider(projectData.totalSteps-1),setStats(projectData.steps[0]),autoSlideInt=setInterval(autoSlide,projectData.intTime))})},filePath=projectData.filePath+"0.topo.json";tiles.addTo(map),loadTopoLayer(topoLayer,filePath,!1);